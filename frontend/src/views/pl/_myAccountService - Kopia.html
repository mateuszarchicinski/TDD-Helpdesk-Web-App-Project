
<div class="service-view__my-account">
  <div ncy-breadcrumb="ncy-breadcrumb"></div>
  <md-toolbar class="service-view__toolbar">
    <header class="md-toolbar-tools service-view__toolbar-tools">
      <h2>Moje konto</h2>
    </header>
  </md-toolbar>
  <md-content layout-padding="layout-padding">
    <div layout-gt-sm="row" layout-align="center start">
      <div class="md-whiteframe-z1 flat-panel" flex-gt-sm="45" layout="column">
        <md-toolbar class="flat-panel__toolbar flat-panel__header">
          <header class="md-toolbar-tools">
            <h3>Twoje informacje osbowe</h3>
          </header>
        </md-toolbar>
        <md-content class="flat-panel__body" layout-padding="layout-padding">
          <form class="user-form UF" name="userForm" novalidate="novalidate" layout="column" ng-submit="userForm.$invalid || MAC.userForm.submit($event)">
            <md-input-container>
              <label for="UFFN">Imię</label>
              <input id="UFFN" name="firstName" ng-model="user.firstName" type="text" required="required" pattern="^[A-ZĄĆĘŁŃÓŚŹŻ]{1}[a-ząćęłńóśźż]{1,50}$"/>
              <div ng-messages="userForm.firstName.$error" role="alert">
                <div ng-message="required">To jest wymagane!</div>
                <div ng-message="pattern">To nie jest poprawne imię!</div>
              </div>
            </md-input-container>
            <md-input-container>
              <label for="UFLN">Nazwisko</label>
              <input id="UFLN" name="lastName" ng-model="user.lastName" type="text" required="required" pattern="^[A-ZĄĆĘŁŃÓŚŹŻ]{1}[a-ząćęłńóśźż]{1,50}$"/>
              <div ng-messages="userForm.lastName.$error" role="alert">
                <div ng-message="required">To jest wymagane!</div>
                <div ng-message="pattern">To nie jest poprawne nazwisko!</div>
              </div>
            </md-input-container>
            <md-input-container>
              <label for="UFG">Płeć</label>
              <md-select if="UFG" name="gender" ng-model="user.gender" required="required">
                <md-option value="male">Mężczyzna</md-option>
                <md-option value="female">Kobieta</md-option>
              </md-select>
              <div class="md-errors-spacer"></div>
              <div ng-messages="userForm.gender.$error" role="alert">
                <div ng-message="required">To jest wymagane!</div>
              </div>
            </md-input-container>
            <md-input-container>
              <label for="UFE">Adres email</label>
              <input id="UFE" name="email" ng-model="user.email" type="email" required="required" ng-disabled="true"/>
              <div ng-messages="userForm.email.$error" role="alert">
                <div ng-message="email">To nie jest poprawny adres email!</div>
                <div ng-message="required">To jest wymagane!</div>
              </div>
            </md-input-container>
            <md-input-container>
              <label for="UFP">Nowe hasło</label>
              <input id="UFP" name="password" ng-model="user.password" type="password" ng-minlength="userForm.password.$dirty ? 8 : 0" ng-maxlength="userForm.password.$dirty ? 25 : 0"/>
              <div ng-messages="userForm.password.$error" role="alert">
                <div ng-message="minlength">To jest za krótkie!</div>
                <div ng-message="maxlength">To jest za długie!</div>
              </div>
            </md-input-container>
            <md-input-container>
              <label for="UFCP">Potwierdź nowe hasło</label>
              <input id="UFCP" name="confirmPassword" ng-model="user.confirmPassword" type="password" validate-equals="userForm.password ? user.password : ''"/>
              <div ng-messages="userForm.confirmPassword.$error" role="alert">
                <div ng-message="validateEquals">Proszę dopasować hasła!</div>
              </div>
            </md-input-container>
            <div layout="row" layout-align="center center" layout-wrap="layout-wrap">
              <md-button class="btn btn-primary" type="submit">Uaktualnij konto</md-button>
              <md-button class="btn btn-warn" ng-click="MAC.userForm.delete()">Usuń konto</md-button>
            </div>
          </form>
        </md-content>
      </div>
      <div class="md-whiteframe-z1 flat-panel" flex-gt-sm="35" layout="column">
        <md-toolbar class="flat-panel__toolbar flat-panel__header">
          <header class="md-toolbar-tools">
            <h3>Informacje o koncie</h3>
          </header>
        </md-toolbar>
        <md-content class="flat-panel__body" layout-padding="layout-padding">
          <md-list>
            <md-list-item class="flat-panel__item-list" layout="row">
              <p flex="60">Hasło:</p>
              <p ng-if="user.isPassword" flex="flex">ustawione</p>
              <p ng-if="!user.isPassword" flex="flex">brak</p>
            </md-list-item>
            <md-list-item class="flat-panel__item-list" layout="row">
              <p flex="60">Uprawnienia:</p>
              <p ng-if="user.role === 'user'" flex="flex">użytkownika</p>
              <p ng-if="user.role === 'assistant'" flex="flex">asystenta</p>
              <p ng-if="user.role === 'admin'" flex="flex">admina</p>
            </md-list-item>
            <md-list-item class="flat-panel__item-list" layout="row">
              <p flex="60">Konto aktywowane:</p>
              <p ng-if="user.active" flex="flex">tak</p>
              <p ng-if="!user.active" flex="flex">nie</p>
            </md-list-item>
            <md-list-item class="flat-panel__item-list" ng-if="user.locale" layout="row">
              <p flex="60">Lokalizacja:</p>
              <p flex="flex">{{::user.locale}}</p>
            </md-list-item>
          </md-list>
        </md-content>
      </div>
    </div>
  </md-content>
</div>